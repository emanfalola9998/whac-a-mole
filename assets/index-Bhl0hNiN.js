(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const y of r.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function a(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(t){if(t.ep)return;t.ep=!0;const r=a(t);fetch(t.href,r)}})();const n=document.querySelectorAll(".board__cell"),m=document.querySelector(".time-remaining"),i=document.querySelector(".score-runner"),w=document.querySelector(".start-game"),f=document.querySelector(".input-difficulty"),c=document.querySelector(".timer"),q=document.querySelector(".reset-game"),g=document.querySelector("body"),E=document.querySelector(".next-level"),I=document.querySelector(".medium-difficulty-hidden");if(!n||!m||!i||!f||!c||!q||!g||!E||!I)throw new Error("Required elements not found.");let h="0",x=0,p=0,L,l=null,u=parseInt(m.innerText,10),o=null,v=!1;const S=()=>{const e=window.innerWidth,s=[];n.forEach(t=>{t.classList.remove("mole"),t.classList.contains("board__cell--hidden-mobile")&&e<768&&s.push("a")});let a=Math.floor(Math.random()*(n.length-s.length)),d=n[a];d.classList.add("mole"),L=d.id},M=()=>{n.forEach(e=>{e.addEventListener("mousedown",()=>{e.id===L&&(p++,i.innerText=p.toString(),L=null)})}),n.forEach(e=>{e.addEventListener("click",()=>{})})},O=e=>{o&&clearInterval(o),e.value==""&&(e.value="1000"),o=setInterval(S,parseInt(e.value))},b=e=>{l&&clearInterval(l),c.value==""&&e=="0"?c.value="70":e!="0"&&(c.value=e),u=parseInt(c.value),m.innerText=u.toString(),l=setInterval(()=>{u--,m.innerText=u.toString(),u<=0&&l!==null&&(clearInterval(l),alert(`Time's up! Your Final Score is ${i.innerText}`),parseInt(i.innerText)&&parseInt(i.innerText)>2&&(x=parseInt(i.innerText)),T())},1e3)},P=e=>{console.log("mediumDifficulty"),e>2&&(I.classList.remove("medium-difficulty-hidden"),g.classList.add("medium"),n.forEach(a=>{a.classList.add("medium")}),h="10",b(h),o&&clearInterval(o),f.value="250",o=setInterval(S,parseInt(f.value)),x=parseInt(i.innerText),T(),v=!0)},T=()=>{console.log("run"),console.log("nextLevelReset:",v),p=0,i.innerText="0",l&&clearInterval(l),l=null,c.value="",m.innerText="0",o&&clearInterval(o),o=null,n.forEach(e=>{e.classList.remove("mole")}),v&&(I.classList.add("medium-difficulty-hidden"),g.classList.remove("medium"),n.forEach(e=>{e.classList.remove("medium")}),h="0",f.value="1000",v=!1)};w.addEventListener("click",()=>{M(),S(),b(h),O(f)});q.addEventListener("click",()=>{T()});E.addEventListener("click",()=>{P(x)});
